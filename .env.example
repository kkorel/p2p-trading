# Database
DATABASE_URL=postgresql://p2p_user:p2p_password@localhost:5432/p2p_trading

# Redis
REDIS_URL=redis://localhost:6379

# Service ports
BAP_PORT=4000
CDS_PORT=4001

# Service URLs
BAP_URL=http://localhost:4000
CDS_URL=http://localhost:4001
BPP_URL=http://localhost:4000

# BAP identity
BAP_ID=bap.p2p-trading.local
BAP_URI=http://localhost:4000

# BPP identity
BPP_ID=bpp.p2p-trading.local
BPP_URI=http://localhost:4000

# CDS identity
CDS_ID=cds.p2p-trading.local
CDS_URI=http://localhost:4001

# Callback delay (ms) - simulates async processing
CALLBACK_DELAY=100

# Matching algorithm configuration
MATCH_WEIGHT_PRICE=0.40
MATCH_WEIGHT_TRUST=0.35
MATCH_WEIGHT_TIME=0.25
MIN_TRUST_THRESHOLD=0.2
DEFAULT_TRUST_SCORE=0.5

# External Services
EXTERNAL_CDS_URL=https://34.93.141.21.sslip.io/beckn/catalog
LEDGER_URL=https://34.93.166.38.sslip.io
USE_EXTERNAL_CDS=false
ENABLE_LEDGER_WRITES=false

# Verifiable Credentials (VC) Configuration
VC_PORTAL_URL=https://open-vcs.up.railway.app
# Comma-separated list of trusted issuer DIDs (leave empty to allow all)
VC_TRUSTED_ISSUERS=
# Require cryptographic proof verification (set to 'true' in production)
VC_REQUIRE_PROOF=false
# API key for VC Portal (if required by the portal)
VC_PORTAL_API_KEY=

# ==================== BECKN SECURITY ====================
# Beckn Protocol cryptographic signing configuration
# See: https://developers.becknprotocol.io/docs/infrastructure-layer-specification/authentication

# Enable cryptographic signing of outgoing Beckn messages (XEd25519)
# Set to 'true' in production for secure P2P communication
BECKN_SIGNING_ENABLED=false

# Enable signature verification of incoming Beckn messages
# Set to 'true' in production to reject unsigned/invalid requests
BECKN_VERIFY_SIGNATURES=false

# Subscriber ID for key identification (format: {domain}.{entity}.{network})
BECKN_SUBSCRIBER_ID=p2p-energy-trading.local

# Signature time-to-live in seconds (default: 30)
BECKN_SIGNATURE_TTL=30

# ==================== CORS & RATE LIMITING ====================
# Comma-separated list of allowed CORS origins (* for all)
CORS_ORIGINS=*

# Order cancellation window in minutes
CANCEL_WINDOW_MINUTES=30

# ==================== DISCOM MOCK ====================
# DISCOM verification settings for trust score updates
DISCOM_SUCCESS_RATE=0.9
DISCOM_CHECK_INTERVAL_MS=30000
DISCOM_RATE_PER_KWH=10
